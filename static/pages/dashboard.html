<!DOCTYPE html>
<html lang="en">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Realtime Map</title>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/zepto/1.1.6/zepto.min.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/zepto/1.1.6/modules/fx.min.js"></script>
<!--   <script type="text/javascript">
  $(function(){
    $('#reload').click(function(){
      $.get('/realtimeDashboard/',
      {},
      function(payload){
        console.log('Received data',payload);
        if(!payload.data){alert('error!');}
        var data=[];
        console.log('Last seen', payload.watchdog_appl);
        //for(var id in payload.appliances){}
        Object.keys(payload.appliances).sort().map(function(id){
          data.push({
            id:id,
            name:payload.appliances[id].name,
            value:payload.appliances[id].value
          });
        });
        
        var html=data.map(function(item){
          return ('<div class="col-xl-3 col-md-6 mb-4">'+
              '<div class="card border-left-primary shadow h-100 py-2">'+
              '<div class="card-body">'+
              '</div></div></div>');
        }).join('');
	html='<div class="col-xl-3 col-md-6 mb-4">' +
	     '<div class="card border-left-primary shadow h-100 py-2">'+
              '<div class="card-body" style="background-image:url("FloorplanOutlineLargeColored.png")">'+
              '</div></div></div>';
        $('#list').html(html);
	$('#people_list').html(people_html);
      },
      'json');
    }).click();
  });
  </script> -->
  <!-- Custom fonts for this template-->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

  <!-- Custom styles for this template-->
  <link href="css/sb-admin-2.min.css" rel="stylesheet">
</head>

<body id="page-top">

  <!-- Page Wrapper -->
  <div id="wrapper">

    <!-- Sidebar -->
    <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">

      <!-- Sidebar - Brand -->
      <a class="sidebar-brand d-flex align-items-center justify-content-center" href="index.html">
        <div class="sidebar-brand-text mx-3">Building Co-Optimization</div>
      </a>

      <!-- Divider -->
      <hr class="sidebar-divider my-0">

      <!-- Nav Item - Dashboard -->
      <li class="nav-item active">
        <a class="nav-link" href="index.html">
          <i class="fas fa-fw fa-tachometer-alt"></i>
          <span>Home</span></a>
      </li>
      <li class="nav-item active">
        <a class="nav-link" href="dashboard.html">
          <i class="fas fa-fw fa-tachometer-alt"></i>
          <span>Dashboard</span></a>
      </li>
      <li class="nav-item active">
        <a class="nav-link" href="graphs.html">
          <i class="fas fa-fw fa-chart-area"></i>
          <span>Graphs</span></a>
      </li>
      <li class="nav-item active">
        <a class="nav-link" href="users.html">
          <i class="fas fa-fw fa-user-friends"></i>
          <span>Users</span></a>
      </li>
      <li class="nav-item active">
        <a class="nav-link" href="lights.html">
          <i class="fas fa-fw fa-lightbulb"></i>
          <span>Lights</span></a>
      </li>
      <li class="nav-item active">
        <a class="nav-link" href="temperatures.html">
          <i class="fas fa-fw fa-temperature-high"></i>
          <span>Temperatures</span></a>
      </li>

      <!-- Divider -->
      <hr class="sidebar-divider">
      

      <!-- Sidebar Toggler (Sidebar) -->
      <div class="text-center d-none d-md-inline">
        <button class="rounded-circle border-0" id="sidebarToggle"></button>
      </div>

    </ul>
    <!-- End of Sidebar -->

    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">

      <!-- Main Content -->
      <div id="content">

        <!-- Topbar -->
        <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">

          <!-- Sidebar Toggle (Topbar) -->
          <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
            <i class="fa fa-bars"></i>
          </button>

          <!-- Topbar Search -->
	  <a href="http://icsl.ee.columbia.edu">
	  <img height="50" src="img/ICSL_Logo.png">
	  </a>
          <form class="d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search">
            <div class="input-group">
              <input type="text" class="form-control bg-light border-0 small" placeholder="Search for..." aria-label="Search" aria-describedby="basic-addon2">
              <div class="input-group-append">
                <button class="btn btn-primary" type="button">
                  <i class="fas fa-search fa-sm"></i>
                </button>
              </div>
            </div>
          </form>

          <!-- Topbar Navbar -->
          <ul class="navbar-nav ml-auto">

            <!-- Nav Item - Search Dropdown (Visible Only XS) -->
            <li class="nav-item dropdown no-arrow d-sm-none">
              <a class="nav-link dropdown-toggle" href="#" id="searchDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-search fa-fw"></i>
              </a>
              <!-- Dropdown - Messages -->
              <div class="dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in" aria-labelledby="searchDropdown">
                <form class="form-inline mr-auto w-100 navbar-search">
                  <div class="input-group">
                    <input type="text" class="form-control bg-light border-0 small" placeholder="Search for..." aria-label="Search" aria-describedby="basic-addon2">
                    <div class="input-group-append">
                      <button class="btn btn-primary" type="button">
                        <i class="fas fa-search fa-sm"></i>
                      </button>
                    </div>
                  </div>
                </form>
              </div>
            </li>

            <!-- Nav Item - Alerts -->
            <li class="nav-item dropdown no-arrow mx-1">
              <a class="nav-link dropdown-toggle" href="#" id="alertsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-bell fa-fw"></i>
                <!-- Counter - Alerts -->
                <span class="badge badge-danger badge-counter">0</span>
              </a>
              <!-- Dropdown - Alerts -->
              <div class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="alertsDropdown">
                <h6 class="dropdown-header">
                  Alerts Center
                </h6>
                <a class="dropdown-item text-center small text-gray-500" href="#">Show All Alerts</a>
              </div>
            </li>

            <!-- Nav Item - Messages -->
            <li class="nav-item dropdown no-arrow mx-1">
              <a class="nav-link dropdown-toggle" href="#" id="messagesDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-envelope fa-fw"></i>
                <!-- Counter - Messages -->
                <span class="badge badge-danger badge-counter">0</span>
              </a>
              <!-- Dropdown - Messages -->
              <div class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="messagesDropdown">
                <h6 class="dropdown-header">
                  Message Center
                </h6>
                <a class="dropdown-item text-center small text-gray-500" href="#">Read More Messages</a>
              </div>
            </li>

            <div class="topbar-divider d-none d-sm-block"></div>

            <!-- Nav Item - User Information -->
            <li class="nav-item dropdown no-arrow">
              <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span class="mr-2 d-none d-lg-inline text-gray-600 small">Fred Jiang</span>
                <img class="img-profile rounded-circle" src="https://source.unsplash.com/QAB-WJcbgJk/60x60">
              </a>
              <!-- Dropdown - User Information -->
              <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
                <a class="dropdown-item" href="#">
                  <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
                  Profile
                </a>
                <a class="dropdown-item" href="#">
                  <i class="fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"></i>
                  Settings
                </a>
                <a class="dropdown-item" href="#">
                  <i class="fas fa-list fa-sm fa-fw mr-2 text-gray-400"></i>
                  Activity Log
                </a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="#" data-toggle="modal" data-target="#logoutModal">
                  <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
                  Logout
                </a>
              </div>
            </li>

          </ul>

        </nav>
        <!-- End of Topbar -->

        <!-- Begin Page Content -->
        <div class="container-fluid">

          <!-- Page Heading -->
          <div class="d-sm-flex align-items-center justify-content-between mb-4">
            <h1 class="h3 mb-0 text-gray-800">Dashboard</h1>
            <button onclick="toggleSensors()" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm"><i class="fas fa-layer-group fa-sm text-white-50"></i> Show Sensors</button>
          </div>

          <div id="list" class="row">
	  	<div class="col-xl-3 col-md-6 mb-4">
<!--	     		<div class="card border-left-primary shadow mw-100 h-100 py-2">-->
				<div class="container-fluid" id="myContainer" style="width:1200px; height:930px; position: relative; background-image:url('FloorplanOutlineLargeColored.png'); background-repeat: no-repeat;">

          <div id="sensors">
          </div>
          <div id="sensorsLegend">
          </div>


          <a id="1003E" tabindex="0" style="width:118px; height: 64px; top:70px;left:120px; position: absolute;" role="button" data-html="true" data-toggle="popover" data-trigger="focus" title="NWC 1003E" data-content="Placeholder"></a>
          <a id="1003B_A" tabindex="0" style="width:96px; height: 62px; top:401px;left:6px; position: absolute;" role="button" data-html="true" data-toggle="popover" data-trigger="focus" title="NWC 1003B A" data-content="Placeholder"></a>
          <a id="1003B_B" tabindex="0" style="width:96px; height: 62px; top:322px;left:6px; position: absolute;" role="button" data-html="true" data-toggle="popover" data-trigger="focus" title="NWC 1003B B" data-content="Placeholder"></a>
          <a id="1003G_A" tabindex="0" style="width:59px; height: 87px; top:321px;left:120px; position: absolute;" role="button" data-html="true" data-toggle="popover" data-trigger="focus" title="NWC 1003G A" data-content="Placeholder"></a>
          <a id="1003G_B" tabindex="0" style="width:59px; height: 87px; top:416px;left:120px; position: absolute;" role="button" data-html="true" data-toggle="popover" data-trigger="focus" title="NWC 1003G B" data-content="Placeholder"></a>
          <a id="1003G_C" tabindex="0" style="width:59px; height: 87px; top:416px;left:179px; position: absolute;" role="button" data-html="true" data-toggle="popover" data-trigger="focus" title="NWC 1003G C" data-content="Placeholder"></a>
          <a id="1000M_A1" tabindex="0" style="width:66px; height: 53px; top:64px;left:961px; position: absolute;" role="button" data-html="true" data-toggle="popover" data-trigger="focus" title="NWC 1000M Aisle 1" data-content="Placeholder"></a>
          <a id="1000M_A2" tabindex="0" style="width:66px; height: 53px; top:125px;left:961px; position: absolute;" role="button" data-html="true" data-toggle="popover" data-trigger="focus" title="NWC 1000M Aisle 2" data-content="Placeholder"></a>
          <a id="1000M_A5" tabindex="0" style="width:65px; height: 49px; top:325px;left:961px; position: absolute;" role="button" data-html="true" data-toggle="popover" data-trigger="focus" title="NWC 1000M Aisle 5" data-content="Placeholder"></a>
          <a id="1000M_A6" tabindex="0" style="width:66px; height: 51px; top:382px;left:961px; position: absolute;" role="button" data-html="true" data-toggle="popover" data-trigger="focus" title="NWC 1000M Aisle 6" data-content="Placeholder"></a>
          <a id="1008" tabindex="0" style="width:81px; height: 118px; top:321px;left:305px; position: absolute;" role="button" data-html="true" data-toggle="popover" data-trigger="focus" title="NWC 1008" data-content="Placeholder"></a>
<!-- 					<div id="people_list">
					</div> -->
          <div id="people_list">
<!--            <div id="person1" style="width:9px; height:9px; position: absolute; background-color:red; top:30px; left:30px;-webkit-border-radius: 4px; -moz-border-radius: 4px; border-radius: 4px;">-->
<!--            </div>-->
<!--            <a id="person1" tabindex="0" style="width:9px; height: 9px; top:30px;left:30px; position: absolute;" role="button" data-html="true" data-toggle="popover" data-trigger="focus" title="Person 1" data-content="Placeholder"></a>-->
          </div>
<!--           <div id="test_list">
          </div> -->
					

       	</div>
<!--			</div>-->
		  </div>
    </div>

  </div>
        <!-- /.container-fluid -->

      </div>
      <!-- End of Main Content -->

      <!-- Footer -->
      <footer class="sticky-footer bg-white">
        <div class="container my-auto">
          <div class="copyright text-center my-auto">
            <span>Copyright &copy;  Intelligent and Connected Systems Laboratory 2021</span>
          </div>
        </div>
      </footer>
      <!-- End of Footer -->

    </div>
    <!-- End of Content Wrapper -->

  </div>
  <!-- End of Page Wrapper -->

  <!-- Scroll to Top Button-->
  <a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
  </a>

  <div id="ModalLoginForm" class="modal fade">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
                <div class="p-5">
                  <div class="text-center">
                    <h1 class="h4 text-gray-900 mb-4">Dashboard Login</h1>
                  </div>
                  <form id="login-form" class="user" onsubmit="Login(); return false;">
                    <div class="form-group">
                      <input type="password" class="form-control form-control-user" id="password" aria-describedby="emailHelp" placeholder="Password">
                    </div>
                    <div class="form-group">
		      <p id="incorrect_password" style="color:#FF0000"></h4>
                    </div>
                    <button type="submit" class="btn btn-primary btn-user btn-block">
                      Login
                    </button>
                  </form>
                </div>
      </div>
    </div>
  </div>
  <!-- Logout Modal-->
  <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
          <button class="close" type="button" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">Ã—</span>
          </button>
        </div>
        <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
        <div class="modal-footer">
          <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
          <a class="btn btn-primary" href="dashboard.html">Logout</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap core JavaScript-->
  <script src="vendor/jquery/jquery.min.js"></script>
    <!-- Core plugin JavaScript-->
  <script src="vendor/jquery-easing/jquery.easing.min.js"></script>
    <!-- Custom scripts for all pages-->
  <script src="js/sb-admin-2.min.js"></script>

  <!-- Page level plugins -->
  <script src="vendor/chart.js/Chart.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script>
    $(document).ready(function(){
        $("#ModalLoginForm").modal('show');
    });
    //setInterval(UpdatePopovers, 5000);
  </script>
  <script>
  function Login() {
    var password = document.getElementById("password");
    var PData = {
      "password":password.value
    };
    console.log("password", password.value);
    if (password.value === "I*csl") {
      $("#ModalLoginForm").modal('hide');
      setInterval(UpdatePopovers, 5000);
    } else {
      document.getElementById("incorrect_password").innerHTML = "Password Incorrect";
    }

  }
  </script>
  <script type="text/javascript">
    $(function () {
      $('[data-toggle="popover"]').popover()
    })
    $('.popover-dismiss').popover({
      trigger: 'focus'
    })

    function enablePopovers() {
      $('[data-toggle="popover"]').popover();
      $('.popover-dismiss').popover({
        trigger: 'focus'
      });
    }
  </script>
  <script type="text/javascript">
    var yourElement = document.getElementById("1003E");
    var dataVal = yourElement.getAttribute("data-content");
    var newData = "new data";
    yourElement.setAttribute("data-content",newData);
  </script>

  <script type="text/javascript">
    var sensorsOn = false;
    // var html=data.map(function(item){
    //       return ('<div class="col-xl-3 col-md-6 mb-4">'+
    //           '<div class="card border-left-primary shadow h-100 py-2">'+
    //           '<div class="card-body">'+
    //           '</div></div></div>');
    //     }).join('');
    var IDict = {
      "wind": "img/sensor_icons/001-wind.png",
      "light": "img/sensor_icons/002-idea.png",
      "PM": "img/sensor_icons/003-air-pollution.png",
      "temp": "img/sensor_icons/004-heat.png",
      "AC": "img/sensor_icons/005-air-conditioner.png",
      "FLIR": "img/sensor_icons/006-camera.png"
    };
    var sensor_dict = [
    {x: '131', y: '82', imgsrc:IDict["wind"]},
    {x: '152', y: '82', imgsrc:IDict["PM"]},
    {x: '131', y: '103', imgsrc:IDict["temp"]},
    {x: '152', y: '103', imgsrc:IDict["FLIR"]},
    {x: '173', y: '82', imgsrc:IDict["light"]},

    {x: '16', y: '331', imgsrc:IDict["PM"]},
    {x: '16', y: '352', imgsrc:IDict["FLIR"]},
    {x: '37', y: '331', imgsrc:IDict["AC"]},

    {x: '16', y: '409', imgsrc:IDict["light"]},
    {x: '16', y: '430', imgsrc:IDict["temp"]},
    {x: '37', y: '409', imgsrc:IDict["AC"]},

    {x: '130', y: '331', imgsrc:IDict["light"]},
    {x: '130', y: '352', imgsrc:IDict["temp"]},
    {x: '130', y: '373', imgsrc:IDict["PM"]},
    {x: '151', y: '331', imgsrc:IDict["AC"]},
    {x: '151', y: '352', imgsrc:IDict["FLIR"]},

    {x: '130', y: '427', imgsrc:IDict["light"]},
    {x: '130', y: '448', imgsrc:IDict["temp"]},
    {x: '151', y: '427', imgsrc:IDict["AC"]},

    {x: '189', y: '427', imgsrc:IDict["light"]},
    {x: '189', y: '448', imgsrc:IDict["temp"]},
    {x: '210', y: '427', imgsrc:IDict["AC"]},

    {x: '355', y: '406', imgsrc:IDict["light"]},
    {x: '334', y: '406', imgsrc:IDict["temp"]},
    {x: '355', y: '385', imgsrc:IDict["wind"]},
    {x: '334', y: '385', imgsrc:IDict["PM"]},
    {x: '355', y: '364', imgsrc:IDict["FLIR"]},

    {x: '962', y: '72', imgsrc:IDict["light"]},
    {x: '983', y: '72', imgsrc:IDict["temp"]},
    {x: '1004', y: '72', imgsrc:IDict["PM"]},
    {x: '962', y: '93', imgsrc:IDict["wind"]},
    {x: '983', y: '93', imgsrc:IDict["FLIR"]},

    {x: '962', y: '135', imgsrc:IDict["light"]},
    {x: '983', y: '135', imgsrc:IDict["temp"]},
    {x: '962', y: '156', imgsrc:IDict["wind"]},
    {x: '983', y: '156', imgsrc:IDict["FLIR"]},

    {x: '962', y: '335', imgsrc:IDict["light"]},
    {x: '983', y: '335', imgsrc:IDict["temp"]},
    {x: '962', y: '356', imgsrc:IDict["wind"]},
    {x: '983', y: '356', imgsrc:IDict["FLIR"]},

    {x: '962', y: '391', imgsrc:IDict["light"]},
    {x: '983', y: '391', imgsrc:IDict["temp"]},
    {x: '1004', y: '391', imgsrc:IDict["PM"]},
    {x: '962', y: '412', imgsrc:IDict["wind"]},
    {x: '983', y: '412', imgsrc:IDict["FLIR"]},

    ];
    var sensorsOverlayHTML = sensor_dict.map(function(item) {
      return ('<img style="position: absolute; top:%ypx; left:%xpx;" width="20" height="20" src=%imgsrc>'.replace('%x', item.x).replace('%y', item.y).replace('%imgsrc', item.imgsrc));
    }).join('');
    console.log(sensorsOverlayHTML);
    function toggleSensors() {
      var sensorsOverlay = document.getElementById("sensors");
      var sensorsLegendOverlay = document.getElementById("sensorsLegend");
      if (sensorsOn) {
        sensorsOverlay.innerHTML = "";
        sensorsLegendOverlay.innerHTML = "";
        sensorsOn = false;
      } else {

        sensorsOverlay.innerHTML = sensorsOverlayHTML;//"<img width='20' height='20' src='img/sensor_icons/001-wind.png'>";
        sensorsLegendOverlay.innerHTML = "<img style='position: absolute; top:5px; left:440px;' width='300' src='img/Legend.png'>";
        sensorsOn = true;
      }

    }
  </script>

  <script type="text/javascript">
    function UpdatePopovers() {
      $.get('/realtimeDashboard/',
        {},
        function(payload) {
          if (!payload.location_data || !payload.occupants) {
            console.log(payload);
            alert('error, no data!');}
          for (var id in payload.location_data) {
            SetPopovers(
              id, 
              payload.location_data[id].HVAC,
              payload.location_data[id].Light,
              payload.location_data[id].Electrical,
              payload.location_data[id].PM1,
              payload.location_data[id].PM25,
              payload.location_data[id].PM10,
              payload.location_data[id].Temperature,
              payload.location_data[id].Pressure,
              payload.location_data[id].Humidity);
          }
          // for(var id in payload.occupants){}
          var data = [];
          Object.keys(payload.occupants).sort().map(function(id){
            data.push({
              'id':id,
              'x': payload.occupants[id].x,
              'y': payload.occupants[id].y,
              'camera': payload.occupants[id].camera,
              'temp': payload.occupants[id].temp,
              'text': "Camera: " + payload.occupants[id].camera + "<br />Temperature: " + payload.occupants[id].temp
            });
          });

          // $('#button_Peter').popover('dispose');
          $('[rel="popover"]').popover('dispose');
          var popOverSettings = {
              container: 'body',
              html: true,
              selector: '[rel="popover"]',
              trigger: 'focus',
              content: function () {
                  return $('#popover-content').html();
              }
          }
          $('body').popover(popOverSettings);

          var people_html=data.map(function(item){
            return ('<div id="%id1" style="width:13px; height:13px; ' +
              'position: absolute; background-color:red; top:%y1px; ' +
              'left:%x1px;-webkit-border-radius: 7px; -moz-border-radius: 7px; ' +
              'border-radius: 7px;"></div>' +
              '<a id="button_%id3" tabindex="0" style="width:13px; height: 13px; ' +
              'top:%y2px;left:%x2px; position: absolute;" role="button" ' +
              'data-html="true" rel="popover" data-trigger="focus" ' +
              'title="%id2" data-content="%text"></a>'
              ).replace('%y1', item.y-7).replace('%y2', item.y-7).replace('%x1', item.x-7).replace('%x2', item.x-7).replace('%id1', item.id).replace('%id2', item.id).replace('%id3', item.id).replace('%text', item.text);
          }).join('');

          $('#people_list').html(people_html);
        }, 'json'
      );
      // $('button_Peter').popover({
      //     html : true,
      //     title : 'Peter',
      //     content : 'Hello World'  
      // });

      // var popOverSettings = {
      //     placement: 'bottom',
      //     html: true,
      //     selector: 'botton_Peter', //Sepcify the selector here
      //     content: function () {
      //         return $('#popover-content').html();
      //     }
      // }
      // $('body').popover(popOverSettings);
      // enablePopovers();
    }

    var id_dict = {
      "nwc1008": "1008",
      "nwc1003E": "1003E",
      "nwc1003g": "1003G_A",
      "nwc1003g_a": "1003G_B",
      "nwc1003g_c": "1003G_C",
      "nwc1000m_a1": "1000M_A1",
      "nwc1000m_a2": "1000M_A2",
      "nwc1000m_a5": "1000M_A5",
      "nwc1000m_a6": "1000M_A6",
      "nwc1003b_a": "1003B_A",
      "nwc1003b_b": "1003B_B",
    };

    function SetPopovers(ElementID, HVAC, Light, Electrical, PM1, PM25, PM10, Temperature, Pressure, Humidity) {
      console.log(ElementID);
      var element = document.getElementById(id_dict[ElementID]);
      var newData = "HVAC: %HVAC W<br />Light: %Light W<br />Electrical: %Electrical W<br />PM 1: %PM1<br />PM 2.5: %PM25<br />PM 10: %PM10<br />Temperature: %T<br />Pressure: %P<br /> Humidity: %H<br />".replace('%HVAC',HVAC).replace('%Light', Light).replace('%Electrical', Electrical).replace('%PM1', PM1).replace('%PM25', PM25).replace('%PM10', PM10).replace('%T', Temperature).replace('%P', Pressure).replace('%H', Humidity);
      element.setAttribute("data-content", newData);

    }
  </script>

<!-- <script type="text/javascript">
  var popOverSettings = {
    container: 'body',
    html: true,
    selector: '[rel="popover"]',
    content: function () {
        return $('#popover-content').html();
    }
}

$('body').popover(popOverSettings);
$('.pop-Add').click(function () {
    $('#test_list').html(
              '<button style="width:13px; height: 13px; ' +
              'top:%ypx;left:%xpx; position: absolute; background-color: blue;" rel="popover"></button>');
});
</script> -->



</body>

</html>
